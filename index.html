<!DOCTYPE html>
<html lang="en">
<head>
    <style>
.app-header {
    background: #f8f9fa;
    padding: 1rem;
    border-bottom: 1px solid #dee2e6;
    margin-bottom: 1rem;
}
.app-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    max-width: 1200px;
    margin: 0 auto;
}
.site-logo {
    font-weight: 600;
    color: #2c5aa0;
    text-decoration: none;
}
.breadcrumb a {
    color: #6c757d;
    text-decoration: none;
}
</style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Leadership Development Style Assessment</title>
    <meta name="description" content="Discover your leadership development style with this comprehensive assessment">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            overflow: hidden;
            animation: fadeIn 0.6s ease-out;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .header {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="squares" patternUnits="userSpaceOnUse" width="10" height="10"><rect width="5" height="5" fill="rgba(255,255,255,0.1)"/><rect x="5" y="5" width="5" height="5" fill="rgba(255,255,255,0.1)"/></pattern></defs><rect width="100" height="100" fill="url(%23squares)"/></svg>') repeat;
            opacity: 0.3;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.95;
            position: relative;
            z-index: 1;
        }

        .content {
            padding: 40px 30px;
        }

        .intro {
            text-align: center;
            margin-bottom: 40px;
        }

        .intro h2 {
            color: #333;
            margin-bottom: 20px;
            font-size: 2em;
        }

        .intro p {
            color: #666;
            line-height: 1.7;
            font-size: 1.1em;
            max-width: 700px;
            margin: 0 auto 20px;
        }

        .intro .highlight {
            background: linear-gradient(120deg, #a8e6cf 0%, #dcedc1 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 25px 0;
        }

        .question-container {
            margin-bottom: 40px;
            padding: 35px;
            background: linear-gradient(145deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            border-left: 6px solid #4CAF50;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }

        .question-title {
            font-size: 1.4em;
            color: #2c3e50;
            margin-bottom: 30px;
            font-weight: 600;
            line-height: 1.5;
        }

        .question-counter {
            color: #4CAF50;
            font-weight: bold;
            font-size: 0.9em;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 10px;
        }

        .answer-option {
            margin-bottom: 25px;
            padding: 25px;
            background: white;
            border-radius: 15px;
            border: 2px solid #e0e0e0;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .answer-option:hover {
            border-color: #4CAF50;
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.12);
        }

        .answer-text {
            font-size: 1.05em;
            color: #2c3e50;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .rating-container {
            display: flex;
            align-items: center;
            gap: 20px;
            flex-wrap: wrap;
        }

        .rating-label {
            font-size: 0.95em;
            color: #666;
            min-width: 120px;
            font-weight: 500;
        }

        .rating-buttons {
            display: flex;
            gap: 12px;
        }

        .rating-btn {
            width: 45px;
            height: 45px;
            border: 2px solid #ddd;
            background: white;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: bold;
            color: #666;
            font-size: 1.1em;
        }

        .rating-btn:hover {
            border-color: #4CAF50;
            transform: scale(1.15);
        }

        .rating-btn.selected {
            background: #4CAF50;
            border-color: #4CAF50;
            color: white;
            transform: scale(1.1);
        }

        .progress-section {
            margin: 35px 0;
            text-align: center;
        }

        .progress-bar {
            width: 100%;
            height: 12px;
            background: #e0e0e0;
            border-radius: 6px;
            overflow: hidden;
            margin: 15px 0;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #4CAF50, #45a049, #66bb6a);
            border-radius: 6px;
            transition: width 0.5s ease;
            width: 0%;
        }

        .progress-text {
            color: #666;
            font-size: 0.9em;
            margin-top: 5px;
        }

        .nav-buttons {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 45px;
            gap: 20px;
        }

        .btn {
            padding: 16px 32px;
            border: none;
            border-radius: 30px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }

        .btn-primary {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            box-shadow: 0 4px 15px rgba(76, 175, 80, 0.3);
        }

        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f8f9fa, #e9ecef);
            color: #666;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #e9ecef, #dee2e6);
            transform: translateY(-2px);
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none !important;
            box-shadow: none !important;
        }

        .results-container {
            display: none;
            animation: fadeIn 0.6s ease-out;
        }

        .results-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, #e8f5e8 0%, #f0f8f0 100%);
            border-radius: 20px;
            border: 2px solid #4CAF50;
        }

        .results-title {
            font-size: 2.3em;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .results-subtitle {
            color: #666;
            font-size: 1.1em;
        }

        .track-result {
            margin-bottom: 35px;
            padding: 30px;
            border-radius: 20px;
            border-left: 6px solid #ddd;
            transition: all 0.3s ease;
        }

        .track-result.primary {
            background: linear-gradient(145deg, #e8f5e8 0%, #f0f8f0 100%);
            border-left-color: #4CAF50;
            box-shadow: 0 8px 25px rgba(76, 175, 80, 0.15);
        }

        .track-result.secondary {
            background: linear-gradient(145deg, #fff9c4 0%, #fff3cd 100%);
            border-left-color: #ffc107;
            box-shadow: 0 8px 25px rgba(255, 193, 7, 0.15);
        }

        .track-name {
            font-size: 1.5em;
            font-weight: 600;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 15px;
            flex-wrap: wrap;
            color: #2c3e50;
        }

        .track-score {
            background: linear-gradient(135deg, #4CAF50, #45a049);
            color: white;
            padding: 8px 16px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: bold;
            box-shadow: 0 3px 10px rgba(76, 175, 80, 0.3);
        }

        .track-description {
            color: #555;
            line-height: 1.7;
            margin-bottom: 20px;
            font-size: 1.05em;
        }

        .track-details {
            background: rgba(255, 255, 255, 0.8);
            padding: 25px;
            border-radius: 15px;
            margin-top: 20px;
            border: 1px solid rgba(76, 175, 80, 0.1);
        }

        .track-details h4 {
            color: #2c3e50;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .track-details ul {
            list-style: none;
            padding-left: 0;
        }

        .track-details li {
            padding: 8px 0;
            color: #555;
            position: relative;
            padding-left: 30px;
            line-height: 1.6;
        }

        .track-details li::before {
            content: "✓";
            color: #4CAF50;
            font-weight: bold;
            position: absolute;
            left: 0;
            top: 8px;
            font-size: 1.1em;
        }

        .action-buttons {
            margin-top: 40px;
            display: flex;
            gap: 20px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .interpretation-note {
            background: linear-gradient(135deg, #fff3cd 0%, #ffeaa7 100%);
            border: 2px solid #ffc107;
            border-radius: 15px;
            padding: 25px;
            margin: 30px 0;
        }

        .interpretation-note h4 {
            color: #856404;
            margin-bottom: 15px;
            font-size: 1.2em;
        }

        .interpretation-note p {
            color: #856404;
            line-height: 1.7;
        }

        .email-section, .print-section {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 15px;
            margin: 25px 0;
            text-align: center;
        }

        .email-form {
            display: flex;
            gap: 15px;
            justify-content: center;
            align-items: center;
            flex-wrap: wrap;
            margin-top: 15px;
        }

        .email-input {
            padding: 12px 16px;
            border: 2px solid #ddd;
            border-radius: 25px;
            font-size: 1em;
            min-width: 250px;
            transition: border-color 0.3s ease;
        }

        .email-input:focus {
            outline: none;
            border-color: #4CAF50;
        }

        .hidden {
            display: none;
        }

        .error-message {
            color: #dc3545;
            font-size: 0.9em;
            margin-top: 10px;
            padding: 10px;
            background: #f8d7da;
            border-radius: 8px;
            border: 1px solid #f5c6cb;
        }

        .success-message {
            color: #155724;
            font-size: 0.9em;
            margin-top: 10px;
            padding: 10px;
            background: #d4edda;
            border-radius: 8px;
            border: 1px solid #c3e6cb;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #4CAF50;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            body { padding: 10px; }
            .container { margin: 0; border-radius: 15px; }
            .header { padding: 25px 20px; }
            .header h1 { font-size: 2em; }
            .content { padding: 25px 20px; }
            .question-container { padding: 25px 20px; }
            .rating-container { flex-direction: column; align-items: flex-start; gap: 15px; }
            .rating-label { min-width: auto; }
            .rating-buttons { gap: 8px; }
            .rating-btn { width: 40px; height: 40px; font-size: 1em; }
            .nav-buttons { flex-direction: column; gap: 15px; }
            .btn { width: 100%; text-align: center; }
            .track-name { flex-direction: column; align-items: flex-start; gap: 10px; }
            .email-form { flex-direction: column; align-items: stretch; }
            .email-input { min-width: auto; width: 100%; }
        }

        @media print {
            body { background: white; padding: 0; }
            .container { box-shadow: none; border-radius: 0; }
            .header { background: #4CAF50 !important; -webkit-print-color-adjust: exact; }
            .btn, .email-section, .print-section { display: none; }
            .track-result { break-inside: avoid; margin-bottom: 20px; }
        }
    </style>
</head>
<!-- Back to Top Button -->
<button id="backToTop" onclick="scrollToTop()" style="position:fixed;bottom:20px;right:20px;background:linear-gradient(135deg,#1e3a5f,#2c5aa0);color:white;border:none;border-radius:50%;width:50px;height:50px;cursor:pointer;font-size:18px;box-shadow:0 4px 12px rgba(0,0,0,0.15);z-index:1000;opacity:0;transition:all 0.3s;">↑</button>

<script>
window.onscroll = function() {
    const btn = document.getElementById('backToTop');
    if (document.body.scrollTop > 300 || document.documentElement.scrollTop > 300) {
        btn.style.opacity = '1';
        btn.style.visibility = 'visible';
    } else {
        btn.style.opacity = '0';
        btn.style.visibility = 'hidden';
    }
};

function scrollToTop() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
}
</script>
    <body>
    <div class="app-header">
    <div class="app-nav">
        <a href="../index.html" class="site-logo">Senior Academic Transformations</a>
        <div class="breadcrumb">
            <a href="../apps.html">Apps</a> > <span>Support Style Finder</span>
        </div>
    </div>
</div>
    <div class="container">
        <div class="header">
            <h1>Leadership Development Style Assessment</h1>
            <p>Discover your unique approach to professional growth and development</p>
        </div>

        <div class="content">
            <!-- Introduction Section -->
            <div id="intro-section" class="intro">
                <h2>Welcome to Your Leadership Journey</h2>
                <p>This comprehensive assessment helps you discover your natural preferences for leadership development. Whether you're new to leadership or a seasoned executive, understanding your development style helps you choose the most effective growth strategies for your unique situation.</p>
                
                <div class="highlight">
                    <strong>🎯 What You'll Discover:</strong><br>
                    Your primary development style from 5 research-based tracks, personalised recommendations for mentors and programmes, and strategies tailored to your current leadership challenges and goals.
                </div>

                <p><strong>Instructions:</strong> You'll see 5 scenarios with multiple response options. Rate each response from 1-5 based on how well it describes your current preferences:</p>
                <p style="margin-top: 10px; color: #4CAF50;"><strong>5 = This describes me very well right now</strong><br><strong>1 = This doesn't describe me at all</strong></p>
                
                <div class="nav-buttons">
                    <div></div>
                    <button class="btn btn-primary" onclick="startAssessment()">
                        Start Assessment <span aria-hidden="true">→</span>
                    </button>
                </div>
            </div>

            <!-- Assessment Section -->
            <div id="assessment-section" class="hidden">
                <div class="progress-section">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progress"></div>
                    </div>
                    <div class="progress-text" id="progress-text">Question 1 of 5</div>
                </div>

                <div id="question-container"></div>

                <div class="nav-buttons">
                    <button class="btn btn-secondary" id="prev-btn" onclick="previousQuestion()" disabled>
                        <span aria-hidden="true">←</span> Previous
                    </button>
                    <button class="btn btn-primary" id="next-btn" onclick="nextQuestion()" disabled>
                        Next <span aria-hidden="true">→</span>
                    </button>
                </div>
            </div>

            <!-- Results Section -->
            <div id="results-section" class="results-container">
                <div class="results-header">
                    <h2 class="results-title">Your Leadership Development Profile</h2>
                    <p class="results-subtitle">Personalised insights based on your responses</p>
                </div>
                
                <div id="results-content"></div>

                <!-- Email Results Section -->
                <div class="email-section">
                    <h3>📧 Get Your Results by Email</h3>
                    <p>We'll send you a detailed PDF summary of your results and personalised recommendations</p>
                    <div class="email-form">
                        <input type="email" class="email-input" placeholder="Enter your email address" id="email-input">
                        <button class="btn btn-primary" onclick="emailResults()">
                            Send My Results <span id="email-loading" class="hidden"></span>
                        </button>
                    </div>
                    <div id="email-message"></div>
                </div>

                <!-- Print Section -->
                <div class="print-section">
                    <h3>🖨️ Save or Print Your Results</h3>
                    <p>Create a physical copy or save as PDF for your records</p>
                    <button class="btn btn-secondary" onclick="window.print()">Print My Results</button>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="restartAssessment()">Take Assessment Again</button>
                    <button class="btn btn-secondary" onclick="shareResults()">Share My Results</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Assessment data
        const questions = [
            {
                id: 1,
                text: "When facing a significant institutional challenge, what approach feels most natural to you right now?",
                answers: [
                    { track: "A", text: "I prefer to tackle it head-on with clear milestones, ambitious goals, and regular accountability check-ins from trusted advisors who'll challenge me" },
                    { track: "B", text: "I like working through it collaboratively with a mentor who provides structured guidance, emotional support, and regular reflection sessions" },
                    { track: "C", text: "I research evidence-based approaches, consult relevant literature, and connect with academic peers before developing my strategy" },
                    { track: "D", text: "I prefer to analyse the situation independently, then seek targeted expert input only when I need specific guidance or validation" },
                    { track: "E", text: "I want to explore different approaches through pilots and conversations with various experts before committing to a major strategy" }
                ]
            },
            {
                id: 2,
                text: "What type of feedback and development support energises you most in your current leadership role?",
                answers: [
                    { track: "A", text: "Direct, results-focused feedback that challenges me to achieve ambitious goals with clear performance benchmarks and high expectations" },
                    { track: "B", text: "Regular, supportive feedback delivered in a safe environment that builds confidence whilst helping me reflect on progress and growth" },
                    { track: "C", text: "Evidence-based feedback grounded in leadership research and best practices, ideally from respected academic peers or experts" },
                    { track: "D", text: "Targeted feedback that I can request when needed, allowing me to maintain control over timing and focus areas of my development" },
                    { track: "E", text: "Diverse feedback from multiple sources and approaches, giving me options to experiment with different development methods" }
                ]
            },
            {
                id: 3,
                text: "How do you prefer to develop new leadership skills and capabilities at this stage in your career?",
                answers: [
                    { track: "A", text: "Through intensive, focused programmes with high expectations, peer competition, stretch assignments, and measurable outcomes" },
                    { track: "B", text: "Through ongoing mentorship relationships with regular meetings, structured skill-building exercises, and consistent encouragement" },
                    { track: "C", text: "Through scholarly communities of practice, research-informed programmes, academic conferences, and peer learning networks" },
                    { track: "D", text: "Through carefully selected resources, executive education, and consultations that I can pursue independently at my own pace" },
                    { track: "E", text: "Through sampling various workshops, programmes, and approaches until I find the methods that resonate most strongly with me" }
                ]
            },
            {
                id: 4,
                text: "When you encounter significant setbacks or complex leadership dilemmas, what support helps you most effectively?",
                answers: [
                    { track: "A", text: "Someone who'll challenge me to push through obstacles quickly, maintain momentum, and stay focused on achieving ambitious goals" },
                    { track: "B", text: "A trusted advisor who helps me process emotions, develop step-by-step recovery strategies, and rebuild confidence gradually" },
                    { track: "C", text: "Connecting with research, case studies, and peer networks to understand how others have successfully navigated similar challenges" },
                    { track: "D", text: "Time and space for independent reflection and analysis, with access to expert consultation when I specifically request it" },
                    { track: "E", text: "Exploring multiple problem-solving strategies and getting diverse perspectives before settling on the best approach for my situation" }
                ]
            },
            {
                id: 5,
                text: "What kind of ongoing professional development structure feels most appealing and sustainable for you right now?",
                answers: [
                    { track: "A", text: "High-intensity programmes with ambitious goals, peer accountability groups, executive coaching, and quarterly performance reviews" },
                    { track: "B", text: "Regular monthly coaching sessions with consistent mentor support, structured development plans, and safe spaces for vulnerability" },
                    { track: "C", text: "Research-informed leadership circles, academic partnerships, scholarly publications, and evidence-based peer collaboration" },
                    { track: "D", text: "Flexible, self-directed learning paths with premium resources, expert access on-demand, and complete autonomy over pacing" },
                    { track: "E", text: "Trial memberships and sampling opportunities across multiple approaches before making longer-term development commitments" }
                ]
            }
        ];

        const tracks = {
            A: {
                name: "🚀 Accelerator Track - High-Performance Challenge",
                description: "You thrive with high expectations, ambitious goals, and advisors who'll stretch you to reach your full potential rapidly. You're energised by challenge and achievement.",
                perfect: [
                    "Ready for intensive, results-focused development with clear metrics",
                    "Motivated by competition, challenge, and direct accountability", 
                    "Facing urgent leadership transitions or high-stakes responsibilities",
                    "Achievement-oriented with a preference for measurable outcomes",
                    "Comfortable with discomfort and pushing beyond your current capabilities"
                ],
                style: "You work best with executive coaches or senior mentors who'll set high standards, provide direct feedback, create stretch assignments, and hold you accountable to ambitious leadership goals. You flourish in environments with clear performance expectations and peer accountability.",
                keywords: ["High-intensity", "Results-driven", "Accountability", "Stretch goals", "Performance metrics"],
                developmentTips: [
                    "Seek mentors who won't let you settle for 'good enough'",
                    "Join executive cohorts with ambitious, high-performing peers",
                    "Set quarterly stretch goals with external accountability",
                    "Request 360-degree feedback with specific improvement targets"
                ]
            },
            B: {
                name: "🤝 Collaborative Track - Supportive Partnership", 
                description: "You flourish with consistent mentoring relationships, regular check-ins, and supportive guidance as you develop new leadership capabilities in a safe, encouraging environment.",
                perfect: [
                    "Valuing relationship-based development and emotional support",
                    "Transitioning to new leadership roles, industries, or organisational levels",
                    "Building confidence whilst developing technical and interpersonal skills",
                    "Seeking sustainable, steady progress with ongoing mentorship support",
                    "Preferring collaborative rather than competitive development environments"
                ],
                style: "You benefit most from trusted mentors or coaches who'll provide consistent encouragement, structured skill-building, regular reflection opportunities, and emotional safety as you navigate your leadership journey. You excel with supportive accountability rather than harsh criticism.",
                keywords: ["Mentorship", "Emotional safety", "Relationship-based", "Steady progress", "Collaborative"],
                developmentTips: [
                    "Find a mentor who combines expertise with genuine care for your growth",
                    "Join supportive leadership circles focused on shared learning",
                    "Schedule regular reflection sessions to process your experiences", 
                    "Seek development programmes that emphasise psychological safety"
                ]
            },
            C: {
                name: "📚 Scholar Track - Evidence-Based Learning",
                description: "You flourish with development approaches grounded in research, peer learning networks, and evidence-based leadership practices within academic or scholarly communities.",
                perfect: [
                    "Valuing scholarly, research-informed approaches to leadership development",
                    "Wanting to contribute to leadership knowledge and best practices",
                    "Building capabilities through intellectual peer networks and academic rigour",
                    "Integrating theoretical frameworks with practical application",
                    "Leading in academic, research, or knowledge-intensive organisations"
                ],
                style: "You excel in leadership learning communities with respected peers, research-informed programmes, academic conferences, and opportunities to both learn from and contribute to the development of leadership knowledge and practice.",
                keywords: ["Research-based", "Peer networks", "Evidence-driven", "Academic rigour", "Best practices"],
                developmentTips: [
                    "Join leadership research consortiums or academic networks",
                    "Engage with evidence-based leadership development programmes",
                    "Participate in scholarly conferences and peer review processes",
                    "Contribute to leadership research through case studies or publications"
                ]
            },
            D: {
                name: "🎯 Autonomous Track - Self-Directed Excellence",
                description: "You flourish with control over your development process whilst having access to high-quality resources and expert guidance when you choose to engage.",
                perfect: [
                    "An experienced leader who prefers to drive your own development agenda",
                    "Valuing flexibility, autonomy, and control over your learning journey",
                    "Self-motivated with strong self-awareness and reflection capabilities",
                    "Balancing independence with strategic access to expertise when needed",
                    "Managing complex responsibilities that require customised development"
                ],
                style: "You work best with flexible arrangements that give you complete control over your learning whilst providing access to premium resources, world-class expertise, and consultation that respects your experience and professional autonomy.",
                keywords: ["Self-directed", "Autonomy", "Flexible access", "Premium resources", "Expert consultation"],
                developmentTips: [
                    "Invest in high-quality, self-paced leadership development resources",
                    "Build a network of expert consultants you can engage as needed",
                    "Design your own leadership development curriculum and timeline",
                    "Seek platforms that offer on-demand access to expertise and tools"
                ]
            },
            E: {
                name: "🧭 Explorer Track - Discovery Through Experience",
                description: "You flourish with opportunities to experience different development approaches before committing to a primary path, allowing for informed decision-making.",
                perfect: [
                    "New to senior leadership roles and wanting to understand your preferences",
                    "Considering career transitions and exploring different leadership styles",
                    "Exploring development options before making significant investments",
                    "Learning about yourself through varied experiences and approaches",
                    "Uncertain about which development style will work best for you"
                ],
                style: "You benefit from opportunities to sample different mentors, programmes, and approaches with minimal initial commitment, allowing you to make well-informed decisions about your long-term development strategy through direct experience.",
                keywords: ["Exploration", "Sampling", "Discovery", "Low commitment trials", "Variety"],
                developmentTips: [
                    "Seek programmes that offer trial periods or sampling opportunities",
                    "Attend diverse leadership events and workshops to test preferences", 
                    "Connect with mentors from different backgrounds and approaches",
                    "Keep a development journal to track what resonates with you most"
                ]
            }
        };

        // Assessment state
        let currentQuestion = 0;
        let responses = {};
        let assessmentStartTime = Date.now();

        // Core functions
        function startAssessment() {
            try {
                assessmentStartTime = Date.now();
                smoothScrollToTop();
                
                const introSection = document.getElementById('intro-section');
                const assessmentSection = document.getElementById('assessment-section');
                
                if (introSection && assessmentSection) {
                    introSection.classList.add('hidden');
                    assessmentSection.classList.remove('hidden');
                    currentQuestion = 0;
                    showQuestion(0);
                } else {
                    console.error('Could not find intro or assessment sections');
                    alert('There was an error starting the assessment. Please refresh the page.');
                }
            } catch (error) {
                console.error('Error starting assessment:', error);
                alert('There was an error starting the assessment. Please refresh the page and try again.');
            }
        }

        function showQuestion(questionIndex) {
            try {
                smoothScrollToTop();
                
                const question = questions[questionIndex];
                const container = document.getElementById('question-container');
                
                if (!container) {
                    console.error('Question container not found');
                    return;
                }
                
                if (!question) {
                    console.error('Question not found for index:', questionIndex);
                    return;
                }
                
                container.innerHTML = `
                    <div class="question-container fade-in">
                        <div class="question-counter">Question ${question.id} of ${questions.length}</div>
                        <div class="question-title">${question.text}</div>
                        ${question.answers.map((answer, index) => `
                            <div class="answer-option" data-track="${answer.track}">
                                <div class="answer-text">${answer.text}</div>
                                <div class="rating-container">
                                    <div class="rating-label">How well does this describe you?</div>
                                    <div class="rating-buttons">
                                        ${[1,2,3,4,5].map(rating => `
                                            <button class="rating-btn" data-rating="${rating}" onclick="selectRating(${questionIndex}, '${answer.track}', ${rating})">${rating}</button>
                                        `).join('')}
                                    </div>
                                </div>
                            </div>
                        `).join('')}
                    </div>
                `;

                // Restore previous answers
                if (responses[questionIndex]) {
                    Object.keys(responses[questionIndex]).forEach(track => {
                        const rating = responses[questionIndex][track];
                        const button = container.querySelector(`[data-track="${track}"] [data-rating="${rating}"]`);
                        if (button) {
                            button.classList.add('selected');
                        }
                    });
                }

                updateProgress();
                updateNavButtons();
            } catch (error) {
                console.error('Error showing question:', error);
                alert('There was an error loading the question. Please refresh the page and try again.');
            }
        }

        function selectRating(questionIndex, track, rating) {
            try {
                if (!responses[questionIndex]) {
                    responses[questionIndex] = {};
                }
                responses[questionIndex][track] = rating;

                const container = document.getElementById('question-container');
                if (!container) return;
                
                const answerOption = container.querySelector(`[data-track="${track}"]`);
                if (!answerOption) return;
                
                const buttons = answerOption.querySelectorAll('.rating-btn');
                
                buttons.forEach(btn => btn.classList.remove('selected'));
                
                const selectedButton = answerOption.querySelector(`[data-rating="${rating}"]`);
                if (selectedButton) {
                    selectedButton.classList.add('selected');
                }

                updateNavButtons();
                
                // Auto-advance if all options rated
                const currentAnswered = responses[questionIndex] && 
                    Object.keys(responses[questionIndex]).length === 5;
                
                if (currentAnswered && currentQuestion < questions.length - 1) {
                    setTimeout(() => {
                        nextQuestion();
                    }, 800);
                }
            } catch (error) {
                console.error('Error selecting rating:', error);
            }
        }

        function updateProgress() {
            try {
                const progress = ((currentQuestion + 1) / questions.length) * 100;
                const progressFill = document.getElementById('progress');
                const progressText = document.getElementById('progress-text');
                
                if (progressFill) progressFill.style.width = progress + '%';
                if (progressText) progressText.textContent = `Question ${currentQuestion + 1} of ${questions.length}`;
            } catch (error) {
                console.error('Error updating progress:', error);
            }
        }

        function updateNavButtons() {
            try {
                const prevBtn = document.getElementById('prev-btn');
                const nextBtn = document.getElementById('next-btn');
                
                if (prevBtn) prevBtn.disabled = currentQuestion === 0;
                
                const currentAnswered = responses[currentQuestion] && 
                    Object.keys(responses[currentQuestion]).length === 5;
                
                if (nextBtn) {
                    if (currentQuestion === questions.length - 1) {
                        nextBtn.innerHTML = 'Show Results <span aria-hidden="true">📊</span>';
                        nextBtn.disabled = !currentAnswered;
                    } else {
                        nextBtn.innerHTML = 'Next <span aria-hidden="true">→</span>';
                        nextBtn.disabled = !currentAnswered;
                    }
                }
            } catch (error) {
                console.error('Error updating nav buttons:', error);
            }
        }

        function nextQuestion() {
            try {
                if (currentQuestion < questions.length - 1) {
                    currentQuestion++;
                    showQuestion(currentQuestion);
                } else {
                    showResults();
                }
            } catch (error) {
                console.error('Error moving to next question:', error);
            }
        }

        function previousQuestion() {
            try {
                if (currentQuestion > 0) {
                    currentQuestion--;
                    showQuestion(currentQuestion);
                }
            } catch (error) {
                console.error('Error moving to previous question:', error);
            }
        }

        function showResults() {
            try {
                smoothScrollToTop();
                
                // Calculate scores
                const scores = { A: 0, B: 0, C: 0, D: 0, E: 0 };
                const maxPossibleScore = questions.length * 5;
                
                Object.values(responses).forEach(questionResponses => {
                    Object.keys(questionResponses).forEach(track => {
                        scores[track] += questionResponses[track];
                    });
                });

                const sortedTracks = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);
                
                const assessmentSection = document.getElementById('assessment-section');
                const resultsSection = document.getElementById('results-section');
                
                if (assessmentSection) assessmentSection.classList.add('hidden');
                if (resultsSection) resultsSection.style.display = 'block';

                generateResults(sortedTracks, scores, maxPossibleScore);
            } catch (error) {
                console.error('Error showing results:', error);
                alert('There was an error generating your results. Please try again.');
            }
        }

        function generateResults(sortedTracks, scores, maxPossibleScore) {
            try {
                const resultsContent = document.getElementById('results-content');
                if (!resultsContent) return;
                
                const primaryTrack = sortedTracks[0];
                const secondaryTrack = sortedTracks[1];
                const scoreDifference = scores[primaryTrack] - scores[secondaryTrack];
                
                let resultsHTML = '';

                // Generate track results
                sortedTracks.forEach((trackKey, index) => {
                    const track = tracks[trackKey];
                    if (!track) return;
                    
                    const score = scores[trackKey];
                    const percentage = Math.round((score / maxPossibleScore) * 100);
                    const isPrimary = index === 0;
                    const isSecondary = index === 1 && scoreDifference <= 4;
                    
                    let scoreInterpretation = '';
                    if (percentage >= 80) {
                        scoreInterpretation = 'Strong alignment - This approach resonates very well with you';
                    } else if (percentage >= 65) {
                        scoreInterpretation = 'Good fit - This approach aligns well with your preferences';
                    } else if (percentage >= 50) {
                        scoreInterpretation = 'Moderate fit - Some elements of this approach may work for you';
                    } else if (percentage >= 35) {
                        scoreInterpretation = 'Limited fit - This approach may work in specific situations';
                    } else {
                        scoreInterpretation = 'Poor fit - This approach likely doesn\'t match your current needs';
                    }

                    resultsHTML += `
                        <div class="track-result ${isPrimary ? 'primary' : (isSecondary ? 'secondary' : '')}">
                            <div class="track-name">
                                ${track.name}
                                <span class="track-score">${score}/25 (${percentage}%)</span>
                            </div>
                            <div class="track-description">
                                <strong style="color: ${isPrimary ? '#4CAF50' : (isSecondary ? '#ffc107' : '#666')};">${scoreInterpretation}</strong><br>
                                ${track.description}
                            </div>
                            ${(isPrimary || isSecondary) ? `
                                <div class="track-details">
                                    <h4>🎯 Perfect if you're:</h4>
                                    <ul>
                                        ${track.perfect ? track.perfect.map(item => `<li>${item}</li>`).join('') : '<li>No specific criteria listed</li>'}
                                    </ul>
                                    <h4 style="margin-top: 20px;">💡 Your Development Style:</h4>
                                    <p style="color: #555; line-height: 1.7; margin-top: 8px;">${track.style || 'Style description not available'}</p>
                                    <h4 style="margin-top: 20px;">🚀 Next Steps:</h4>
                                    <ul style="margin-top: 8px;">
                                        ${track.developmentTips ? track.developmentTips.map(tip => `<li>${tip}</li>`).join('') : '<li>Tips not available</li>'}
                                    </ul>
                                    <div style="margin-top: 15px; padding: 15px; background: rgba(76, 175, 80, 0.1); border-radius: 10px;">
                                        <strong>Key Focus Areas:</strong> ${track.keywords ? track.keywords.join(', ') : 'Not specified'}
                                    </div>
                                </div>
                            ` : ''}
                        </div>
                    `;
                });

                // Add interpretation for close scores
                if (scoreDifference <= 4) {
                    resultsHTML += `
                        <div class="interpretation-note">
                            <h4>📊 Close Match Analysis</h4>
                            <p><strong>Your top two tracks scored within ${scoreDifference} points of each other.</strong> This suggests you'd benefit from a blended approach. Many successful leaders combine elements from different tracks depending on their current challenges, career stage, and organisational context.</p>
                        </div>
                    `;
                }

                resultsContent.innerHTML = resultsHTML;
            } catch (error) {
                console.error('Error generating results:', error);
            }
        }

        function emailResults() {
            try {
                const emailInput = document.getElementById('email-input');
                const emailMessage = document.getElementById('email-message');
                const emailLoading = document.getElementById('email-loading');
                
                if (!emailInput || !emailMessage || !emailLoading) return;
                
                const email = emailInput.value.trim();
                const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
                
                if (!email || !emailRegex.test(email)) {
                    emailMessage.innerHTML = '<div class="error-message">Please enter a valid email address</div>';
                    return;
                }
                
                emailLoading.innerHTML = '<div class="loading"></div>';
                emailLoading.classList.remove('hidden');
                
                setTimeout(() => {
                    emailLoading.classList.add('hidden');
                    emailMessage.innerHTML = '<div class="success-message">✅ Results sent successfully! Check your email in a few minutes.</div>';
                }, 2000);
            } catch (error) {
                console.error('Error emailing results:', error);
            }
        }

        function shareResults() {
            try {
                const scores = { A: 0, B: 0, C: 0, D: 0, E: 0 };
                
                Object.values(responses).forEach(questionResponses => {
                    Object.keys(questionResponses).forEach(track => {
                        scores[track] += questionResponses[track];
                    });
                });
                
                const sortedTracks = Object.keys(scores).sort((a, b) => scores[b] - scores[a]);
                const primaryTrackKey = sortedTracks[0] || 'A';
                const primaryTrackName = tracks[primaryTrackKey] ? tracks[primaryTrackKey].name.split(' - ')[0] : 'Leadership Development';
                
                const shareText = `I just completed a Leadership Development Style Assessment and discovered I'm a ${primaryTrackName}! Discover your leadership development style:`;
                const shareUrl = window.location.href;
                
                if (navigator.share) {
                    navigator.share({
                        title: 'Leadership Development Style Assessment',
                        text: shareText,
                        url: shareUrl
                    }).catch(() => {
                        fallbackShare(shareText, shareUrl);
                    });
                } else {
                    fallbackShare(shareText, shareUrl);
                }
            } catch (error) {
                console.error('Error sharing results:', error);
            }
        }

        function fallbackShare(shareText, shareUrl) {
            const fullText = `${shareText} ${shareUrl}`;
            
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(fullText).then(() => {
                    alert('Results link copied to clipboard!');
                }).catch(() => {
                    manualCopy(fullText);
                });
            } else {
                manualCopy(fullText);
            }
        }

        function manualCopy(text) {
            try {
                const textArea = document.createElement('textarea');
                textArea.value = text;
                textArea.style.position = 'fixed';
                textArea.style.opacity = '0';
                document.body.appendChild(textArea);
                textArea.focus();
                textArea.select();
                document.execCommand('copy');
                document.body.removeChild(textArea);
                alert('Results link copied to clipboard!');
            } catch (err) {
                alert('Unable to copy automatically. Please copy this manually: ' + text);
            }
        }

        function restartAssessment() {
            try {
                currentQuestion = 0;
                responses = {};
                assessmentStartTime = Date.now();
                
                const resultsSection = document.getElementById('results-section');
                const introSection = document.getElementById('intro-section');
                const progressFill = document.getElementById('progress');
                const progressText = document.getElementById('progress-text');
                const emailMessage = document.getElementById('email-message');
                const emailInput = document.getElementById('email-input');
                
                if (resultsSection) resultsSection.style.display = 'none';
                if (introSection) introSection.classList.remove('hidden');
                if (progressFill) progressFill.style.width = '0%';
                if (progressText) progressText.textContent = 'Question 1 of 5';
                if (emailMessage) emailMessage.innerHTML = '';
                if (emailInput) emailInput.value = '';
                
                smoothScrollToTop();
            } catch (error) {
                console.error('Error restarting assessment:', error);
            }
        }

        function smoothScrollToTop() {
            window.scrollTo({ 
                top: 0, 
                behavior: 'smooth' 
            });
        }

        // Auto-save functionality
        function saveProgress() {
            try {
                if (typeof sessionStorage !== 'undefined' && Object.keys(responses).length > 0) {
                    sessionStorage.setItem('assessment_responses', JSON.stringify(responses));
                    sessionStorage.setItem('assessment_question', currentQuestion.toString());
                }
            } catch (e) {
                // Silently handle storage errors
            }
        }

        function loadProgress() {
            try {
                if (typeof sessionStorage !== 'undefined') {
                    const savedResponses = sessionStorage.getItem('assessment_responses');
                    const savedQuestion = sessionStorage.getItem('assessment_question');
                    
                    if (savedResponses && savedQuestion) {
                        const shouldContinue = confirm('Would you like to continue your previous assessment?');
                        if (shouldContinue) {
                            const parsedResponses = JSON.parse(savedResponses);
                            const parsedQuestion = parseInt(savedQuestion);
                            
                            if (parsedResponses && !isNaN(parsedQuestion)) {
                                responses = parsedResponses;
                                currentQuestion = parsedQuestion;
                                startAssessment();
                                showQuestion(currentQuestion);
                            }
                        } else {
                            sessionStorage.removeItem('assessment_responses');
                            sessionStorage.removeItem('assessment_question');
                        }
                    }
                }
            } catch (e) {
                // Silently handle storage errors
            }
        }

        // Event listeners
        window.addEventListener('beforeunload', function() {
            saveProgress();
        });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Assessment initialized');
            console.log('Questions loaded:', questions ? questions.length : 'No questions');
            console.log('Tracks loaded:', tracks ? Object.keys(tracks).length : 'No tracks');
            
            loadProgress();
        });

        // Global error handling
        window.addEventListener('error', function(e) {
            console.error('JavaScript error:', e.error);
        });

        window.addEventListener('unhandledrejection', function(e) {
            console.error('Promise rejection:', e.reason);
            e.preventDefault();
        });
    </script>
</body>
</html>
